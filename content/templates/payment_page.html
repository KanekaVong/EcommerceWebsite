{% extends 'base.html' %}
{% load static %}


{% block title %}Checkout & Payment{% endblock %}

{% block head_extra %}
    <link rel="stylesheet" href="{% static 'css/payment.css' %}">
{% endblock %}

{% block content %}
    <main class="payment-page"> {# This main class might need adjustment in payment.css #}
        <div class="container">
            <header class="page-header">
                <h1>Complete Your Order</h1>
                <p>Please provide your payment details.</p>
            </header>

            <div class="checkout-summary">
                <h2>Order Summary</h2>
                <div id="payment-summary-items">
                    <p class="loading-message">Loading order summary...</p>
                </div>
                <div class="summary-line total-amount">
                    <span>Total to Pay:</span>
                    <span id="payment-total">$0.00</span>
                </div>
            </div>

            <div class="payment-form-section">
                <h2>Payment Information</h2>
                <form id="payment-form">
                    <div class="form-group">
                        <label for="card-number">Card Number</label>
                        <input type="text" id="card-number" placeholder="**** **** **** ****" required pattern="[0-9]{13,16}">
                    </div>
                    <div class="form-group">
                        <label for="card-name">Name on Card</label>
                        <input type="text" id="card-name" placeholder="Full Name" required>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="expiry-date">Expiry Date</label>
                            <input type="text" id="expiry-date" placeholder="MM/YY" required pattern="(0[1-9]|1[0-2])\/([0-9]{2})">
                        </div>
                        <div class="form-group">
                            <label for="cvv">CVV</label>
                            <input type="text" id="cvv" placeholder="***" required pattern="[0-9]{3,4}">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="address">Shipping Address</label>
                        <textarea id="address" placeholder="Your full shipping address" rows="3" required></textarea>
                    </div>
                    <button type="submit" class="btn btn-primary">Pay Now</button>
                </form>
                <div id="payment-message" class="hidden"></div>
            </div>
        </div>
    </main>
{% endblock %}
{% block scripts_extra %}
    <script src="{% static 'js/payment.js' %}" ></script>
{% endblock %}